<!DOCTYPE html>
<html lang="en" xmlns:th="https://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EventFlowerExchange</title>
    <link rel="stylesheet" href="/css/bootstrap.min.css">
    <link rel="stylesheet" href="/css/animate.css">
    <link rel="stylesheet" href="/css/all.min.css">
    <link rel="stylesheet" href="/css/base.css">
    <link rel="stylesheet" href="/css/viewOrderHistory.css">

    <!-- <link rel="stylesheet" href="/src/main/resources/static/css/bootstrap.min.css">
    <link rel="stylesheet" href="/src/main/resources/static/css/animate.css">
    <link rel="stylesheet" href="/src/main/resources/static/css/all.min.css">
    <link rel="stylesheet" href="/src/main/resources/static/css/base.css">
    <link rel="stylesheet" href="/src/main/resources/static/css/viewOrderHistory.css"> -->
    <!-- <link rel="stylesheet" href="/src/main/resources/static/css/forgotPassword.css"> -->

</head>

<body>
    <div class="wrap">
        <!-- Nav Bar -->
        <nav class="navbar" th:replace="~{base :: navbar}">

        </nav>

        <!-- Header -->
        <header class="header" th:replace="~{base :: header}">

        </header>

        <!-- Container -->
        <div class="container">
            <!-- <div class="grid"> -->

            <!-- Breadbrum -->
            <div class="breadbrum">
                <h1 class="breadbrum__title">View Order History</h1><br>
                <ul class="breadbrum__element-list">
                    <li class="breadbrum__element-list-item">
                        <a href="home.html" class="breadbrum__element-list-item-link">
                            <i class="fa-solid fa-house"></i>
                        </a>
                    </li>

                    <li class="breadbrum__element-list-item">
                        <a href="" class="breadbrum__element-list-item-link">
                            <i class="fa-solid fa-angles-right"></i>
                            <span>Account</span>
                        </a>
                    </li>

                    <li class="breadbrum__element-list-item">
                        <a href="register.html" class="breadbrum__element-list-item-link">
                            <i class="fa-solid fa-angles-right"></i>
                            <span>Order history</span>
                        </a>
                    </li>
                </ul>
            </div>
            <div class="container__wrap">
                <div class="auth-form__header">
                    <a th:href="@{/account/view/profile}" class="auth-form__switch-btn"
                        onclick="window.history.back(); return false;">
                        <i class="fa-solid fa-arrow-left"></i>
                        Back
                    </a>
                </div>
                <!-- Order history -->

                <div class="order-list" th:if="${msg}">
                    <div class="order-item" th:each="order : ${msg.orderList}">
                        <div class="order-header">
                            <div class="header-info">
                                <p><span class="seller-order" th:text="${order.sellerName}">John Doe</span></p>
                                <span th:text="${order.status}" class="order-status"
                                th:classappend="${order.status == 'processing'} ? 'order-status-processing'"
                                th:classappend="${order.status == 'packed'} ? 'order-status-packed'"
                                th:classappend="${order.status == 'successful'} ? 'order-status-succesfull'"
                                th:classappend="${order.status == 'cancelled'} ? 'order-status-cancel'"
                                >Delivered</span>
                            </div>
                            <p class="order-id">Order ID: <span th:text="${order.orderId}">12345</span></p>
                        </div>

                        <div class="order-details">
                            <table class="product-table">
                                <thead>
                                    <tr>
                                        <th class="product-table-name">Product Name</th>
                                        <th class="product-table-qnt">Quantity</th>
                                        <th class="product-table-price">Price</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr class="product-list" th:each="product : ${order.detailList}">
                                        <td th:text="${product.flowerName}"> hipatge</td>
                                        <td class="pro-quantity" th:text="${product.quantity}">1</td>
                                        <td th:text="${product.price}">$20.00</td>
                                    </tr>
                                    <tr class="total">
                                        <td colspan="1" >
                                            <span class="total-text">Total Price</span>
                                        </td>
                                        <td></td>
                                        <td colspan="1">
                                            <span th:text="${order.totalPrice}" class="total-text">$150.00</span>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        <form th:action="@{/buyer/order/detail}" th:method="get" class="contain-btn">
                            <input type="hidden" name="accountId" th:value="${session.acc.getId()}">
                            <input type="hidden" name="orderId" th:value="${order.orderId}">
                            <button class="table-order-status-btn" value="Detail" name="detail">View Detail</button>
                        </form>
                    </div>

                </div>
            </div>

        </div>

        <!-- Footer -->
        <footer class="footer" th:replace="~{base :: footer}">

        </footer>
    </div>
    <script src="/js/jquery.js"></script>
    <script src="/js/bootstrap.min.js"></script>
    <script src="/js/jquery.scrollUp.min.js"></script>
    <script src="/js/price-range.js"></script>
    <script src="/js/jquery.prettyPhoto.js"></script>
    <script src="/js/base.js"></script>
</body>

</html>